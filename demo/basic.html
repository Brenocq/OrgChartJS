<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>OrgChartJS - Basic</title>

		<!------- Includes ------->
		<!-- Awesome fonts --->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<!-- OrgChartJS --->
		<link rel="stylesheet" type="text/css" href="../css/OrgChart.css">
		<script src="../js/OrgChart.js"></script> 

	</head>
	<body>
		<div id="myOrgChart"></div>
		<div id="test" height="500" width="500">
			<div id="nodeId" class="draggable nodeBlock">
				<i class="orgChartNodeMove fa fa-arrows-alt"></i>
				<i class="orgChartNodeEdit fa fa-pencil"></i>
				<p class="orgChartNodeText">Testing</p>
			</div>
			<div id="nodeId2" class="draggable nodeBlock">
				<i class="orgChartNodeMove fa fa-arrows-alt"></i>
				<i class="orgChartNodeEdit fa fa-pencil"></i>
				<p class="orgChartNodeText">Testing</p>
			</div>
		</div>

	</body>

	<!------- Includes ------->
	<!-- Jquery --->
	<script src="../lib/jquery/jquery-3.4.1.min.js"></script>
	<script src="../lib/jquery-ui/jquery-ui.js"></script>

	<!----- OrgChartJS ----->
	<script>
		document.getElementById("test").innerHTML+=
		'<div id="nodeId3"class="draggable nodeBlock">\
			<i class="orgChartNodeMove fa fa-arrows-alt"></i>\
			<i class="orgChartNodeEdit fa fa-pencil"></i>\
			<p class="orgChartNodeText">testing</p>\
		</div>';

		$("#nodeId3").draggable({
			handle: "i.orgChartNodeMove",
			revert : function(event, ui) {
				$(this).data("uiDraggable").originalPosition = {
					top : 0,
					left : 0
				};
				return !event;
			}
		});
		$("#nodeId2").draggable({
			handle: "i.orgChartNodeMove",
			revert : function(event, ui) {
				$(this).data("uiDraggable").originalPosition = {
					top : 0,
					left : 0
				};
				return !event;
			}
		});
		$("#nodeId").draggable({
			handle: "i.orgChartNodeMove",
			revert : function(event, ui) {
				$(this).data("uiDraggable").originalPosition = {
					top : 0,
					left : 0
				};
				return !event;
			}
		});

		let chart;
		window.onload = function () { 
			chart = new OrgChart(document.getElementById("myOrgChart"), {
				config: {
					enableDragDrop: true,

					height: 500,
					width: 1500,
					heightNode: 50,
					widthNode: 150,

					margin: 15
				},
				nodes: [
					{ id: 0, name: "CEO" },
					{ id: 1, pid: 0, name: "Manager 1" },
					{ id: 2, pid: 0, name: "Manager 2" },
					{ id: 3, pid: 0, name: "Manager 3" },
					{ id: 4, pid: 1, name: "Supervisor" },
					{ id: 5, pid: 4, name: "Developer" },
					{ id: 6, pid: 4, name: "Developer" },
					{ id: 7, pid: 2, name: "Marketing 1" },
					{ id: 8, pid: 2, name: "Marketing 2" },
					{ id: 9, pid: 8, name: "Intern 1" },
					{ id: 10, pid: 8, name: "Intern 2" },
				]
			});
		};
	
	</script>
</html>
